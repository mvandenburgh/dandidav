# v0.0.1 (Wed Mar 06 2024)

:tada: This release contains work from new contributors! :tada:

Thanks for all your work!

:heart: Mike VanDenburgh ([@mvandenburgh](https://github.com/mvandenburgh))

:heart: John T. Wodder II ([@jwodder](https://github.com/jwodder))

#### üêõ Bug Fix

- Heroku deployment [#5](https://github.com/mvandenburgh/dandidav/pull/5) ([@mvandenburgh](https://github.com/mvandenburgh))
- Revert "Update README.md" [#2](https://github.com/mvandenburgh/dandidav/pull/2) ([@mvandenburgh](https://github.com/mvandenburgh))

#### ‚ö†Ô∏è Pushed to `main`

- Don't show "commit" without hash in web view if commit hash not known ([@jwodder](https://github.com/jwodder))
- Fetch Git commit hash from `HEROKU_SLUG_COMMIT` if Git info not available ([@jwodder](https://github.com/jwodder))
- Add `--prefer-s3-redirects` CLI option ([@jwodder](https://github.com/jwodder))
- [cargo](deps): Bump the deps group with 22 updates ([@dependabot[bot]](https://github.com/dependabot[bot]))
- [cargo](deps): bump the deps group with 30 updates ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Use `<thead>` and `<tbody>` in collection tables in web view ([@jwodder](https://github.com/jwodder))
- Add more tests to `src/paths/` ([@jwodder](https://github.com/jwodder))
- Add ".zarr" extension to Zarrs under `/zarrs/` ([@jwodder](https://github.com/jwodder))
- Add a test ([@jwodder](https://github.com/jwodder))
- [cargo](deps): Bump the deps group with 13 updates ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Remove redundant import ([@jwodder](https://github.com/jwodder))
- Rename "http-request" logging span to "outgoing-request" ([@jwodder](https://github.com/jwodder))
- Format sizes in the web view in "1.23 MiB" style ([@jwodder](https://github.com/jwodder))
- Wrap timestamps in `<time>` tag ([@jwodder](https://github.com/jwodder))
- Don't wrap on hyphens either ([@jwodder](https://github.com/jwodder))
- Adjust the format of timestamps in the web view ([@jwodder](https://github.com/jwodder))
- Use site title as text of root breadcrumb ([@jwodder](https://github.com/jwodder))
- Test rendering root HTML ([@jwodder](https://github.com/jwodder))
- Test HTML rendering ([@jwodder](https://github.com/jwodder))
- Some CSS cleanup ([@jwodder](https://github.com/jwodder))
- Fix CSS (Thanks to @aaronkanzer) ([@jwodder](https://github.com/jwodder))
- Restore bolding of directory links in web view ([@jwodder](https://github.com/jwodder))
- Update CHANGELOG ([@jwodder](https://github.com/jwodder))
- Improve styling ([@jwodder](https://github.com/jwodder))
- Add links to version & asset metadata to web view ([@jwodder](https://github.com/jwodder))
- Update docs ([@jwodder](https://github.com/jwodder))
- Test split_uri_path() ([@jwodder](https://github.com/jwodder))
- Test SplitComponents ([@jwodder](https://github.com/jwodder))
- Add breadcrumbs to web view ([@jwodder](https://github.com/jwodder))
- More TryFrom<String> ([@jwodder](https://github.com/jwodder))
- Use TryFrom<String> instead of FromStr where applicable ([@jwodder](https://github.com/jwodder))
- Remove boilerplate in {dandiset,version}_id.rs ([@jwodder](https://github.com/jwodder))
- Adjustment ([@jwodder](https://github.com/jwodder))
- Cut down on boilerplate in `paths/` ([@jwodder](https://github.com/jwodder))
- [cargo](deps): Bump the deps group with 41 updates ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Update lint configuration ([@jwodder](https://github.com/jwodder))
- Log errors that cause 404 & 500 responses ([@jwodder](https://github.com/jwodder))
- Update crc32c; re-enable nightly builds ([@jwodder](https://github.com/jwodder))
- Also log DEBUG+ events from aws_config ([@jwodder](https://github.com/jwodder))
- Log requests to discover S3 bucket regions ([@jwodder](https://github.com/jwodder))
- Better logging config ([@jwodder](https://github.com/jwodder))
- Log non-S3 HTTP requests ([@jwodder](https://github.com/jwodder))
- Better handling of undecodable Depth headers ([@jwodder](https://github.com/jwodder))
- Temporarily disable CI runs against nightly Rust ([@jwodder](https://github.com/jwodder))
- Delint ([@jwodder](https://github.com/jwodder))
- v0.2.0 ‚Äî /zarrs/ ([@jwodder](https://github.com/jwodder))
- Bugfixes ([@jwodder](https://github.com/jwodder))
- ReqPath::parse_path() ([@jwodder](https://github.com/jwodder))
- ZarrManClient::get_resource_with_children() ([@jwodder](https://github.com/jwodder))
- get_zarr_manifest() ([@jwodder](https://github.com/jwodder))
- Assorted ZarrMan stuff ([@jwodder](https://github.com/jwodder))
- Zarr manifest directory indices are now JSON ([@jwodder](https://github.com/jwodder))
- Better info for 404 errors ([@jwodder](https://github.com/jwodder))
- Factor out HTTP `GET` request stuff ([@jwodder](https://github.com/jwodder))
- More ZarrMan skeleton ([@jwodder](https://github.com/jwodder))
- Replace ResourceKind::ZarrFolder with ResourceKind::Directory ([@jwodder](https://github.com/jwodder))
- Integrate zarrman/ into dav/ ([@jwodder](https://github.com/jwodder))
- Test of deserializing & querying Zarr manifest ([@jwodder](https://github.com/jwodder))
- PurePath::components() ([@jwodder](https://github.com/jwodder))
- Skeleton for Zarr manifest support ([@jwodder](https://github.com/jwodder))
- Replace lru with moka ([@jwodder](https://github.com/jwodder))
- dandi::Client ‚Üí DandiClient ([@jwodder](https://github.com/jwodder))
- Improve Dependabot exclusion condition ([@jwodder](https://github.com/jwodder))
- Set Codecov token ([@jwodder](https://github.com/jwodder))
- [cargo](deps): Bump the deps group with 8 updates ([@dependabot[bot]](https://github.com/dependabot[bot]))
- [gh-actions](deps): Bump codecov/codecov-action from 3 to 4 ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Remove some unnecessary `pub(crate)` visibilities ([@jwodder](https://github.com/jwodder))
- v0.1.0 ‚Äî Initial release ([@jwodder](https://github.com/jwodder))
- Add "Server" header to all responses ([@jwodder](https://github.com/jwodder))
- Ensure all WebDAV responses have "Allow" and "DAV" headers ([@jwodder](https://github.com/jwodder))
- Handle requests for `/.static/styles.css` via top-level router ([@jwodder](https://github.com/jwodder))
- [cargo](deps): Bump the deps group with 1 update ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Move to DANDI organization ([@jwodder](https://github.com/jwodder))
- Bump MSRV back down to 1.70 ([@jwodder](https://github.com/jwodder))
- Add an `Href` type for representing `href`-ready links ([@jwodder](https://github.com/jwodder))
- Use rustls + native-certs with reqwest ([@jwodder](https://github.com/jwodder))
- Bump MSRV to 1.74 ([@jwodder](https://github.com/jwodder))
- GitHub stuff ([@jwodder](https://github.com/jwodder))
- Add "Features" section to README ([@jwodder](https://github.com/jwodder))
- README ([@jwodder](https://github.com/jwodder))
- --help text ([@jwodder](https://github.com/jwodder))
- Improvements to Tag ([@jwodder](https://github.com/jwodder))
- Support PROPFIND bodies ([@jwodder](https://github.com/jwodder))
- <propname>: Don't list unset properties on each resource ([@jwodder](https://github.com/jwodder))
- Extract PROPFIND bodies ([@jwodder](https://github.com/jwodder))
- Test ([@jwodder](https://github.com/jwodder))
- Parsing propfind XML ([@jwodder](https://github.com/jwodder))
- Move PropFind to propfind.rs ([@jwodder](https://github.com/jwodder))
- xml.rs ‚Üí multistatus.rs ([@jwodder](https://github.com/jwodder))
- Remove unused ([@jwodder](https://github.com/jwodder))
- Use constant for Content-Type header name ([@jwodder](https://github.com/jwodder))
- Implement PROPFIND, sans request body support ([@jwodder](https://github.com/jwodder))
- Constant for DAV XML Content-Type ([@jwodder](https://github.com/jwodder))
- Implement default PROPFIND ([@jwodder](https://github.com/jwodder))
- Import http items via axum re-export ([@jwodder](https://github.com/jwodder))
- Extracting the Depth header ([@jwodder](https://github.com/jwodder))
- The finding of the props ([@jwodder](https://github.com/jwodder))
- Enums for standard properties ([@jwodder](https://github.com/jwodder))
- More PROPFIND ([@jwodder](https://github.com/jwodder))
- Serving multiple propstats ([@jwodder](https://github.com/jwodder))
- Properties to find ([@jwodder](https://github.com/jwodder))
- Thinking ahead some more ([@jwodder](https://github.com/jwodder))
- Formatting created & modified dates ([@jwodder](https://github.com/jwodder))
- <location> is supposed to contain an <href> ([@jwodder](https://github.com/jwodder))
- Thinking ahead ([@jwodder](https://github.com/jwodder))
- Emitting multistatus XML ([@jwodder](https://github.com/jwodder))
- Handle HEAD requests ([@jwodder](https://github.com/jwodder))
- Send Allow and DAV headers in all WebDAV responses ([@jwodder](https://github.com/jwodder))
- Show URI path in `<title>`s ([@jwodder](https://github.com/jwodder))
- Fix Zarr resource links ([@jwodder](https://github.com/jwodder))
- Fix get_bucket_region() ([@jwodder](https://github.com/jwodder))
- Show something for 404 and 501 responses ([@jwodder](https://github.com/jwodder))
- Link directly to blobs' download URLs ([@jwodder](https://github.com/jwodder))
- Fix a bug in PureDirPath::parent ([@jwodder](https://github.com/jwodder))
- Percent-encode hrefs ([@jwodder](https://github.com/jwodder))
- Prefer Archive URLs for blobs' download URLs ([@jwodder](https://github.com/jwodder))
- Show git commit in --version output ([@jwodder](https://github.com/jwodder))
- Fix stylesheet ([@jwodder](https://github.com/jwodder))
- Fix some HTML view issues ([@jwodder](https://github.com/jwodder))
- Make the names in the HTML table links ([@jwodder](https://github.com/jwodder))
- Fix ([@jwodder](https://github.com/jwodder))
- Crude logging ([@jwodder](https://github.com/jwodder))
- Serve stylesheet ([@jwodder](https://github.com/jwodder))
- Almost runnable? ([@jwodder](https://github.com/jwodder))
- Parsing URI paths ([@jwodder](https://github.com/jwodder))
- Dispatching GET requests ([@jwodder](https://github.com/jwodder))
- Include dandiset.yaml in Version items ([@jwodder](https://github.com/jwodder))
- Rendering GET responses ([@jwodder](https://github.com/jwodder))
- Templating ([@jwodder](https://github.com/jwodder))
- Split up dav.rs ([@jwodder](https://github.com/jwodder))
- ApiError ‚Üí DandiError ([@jwodder](https://github.com/jwodder))
- dandiapi ‚Üí dandi ([@jwodder](https://github.com/jwodder))
- Resolving resources with children ([@jwodder](https://github.com/jwodder))
- Not needed ([@jwodder](https://github.com/jwodder))
- Replace `name` and `href` fields with just `path` ([@jwodder](https://github.com/jwodder))
- Split up `dandi_resource()` ([@jwodder](https://github.com/jwodder))
- Into enums ([@jwodder](https://github.com/jwodder))
- Correct a couple href's ([@jwodder](https://github.com/jwodder))
- Resolve versions with chdildren ([@jwodder](https://github.com/jwodder))
- Append slashes to collection hrefs made from DandiResources ([@jwodder](https://github.com/jwodder))
- Resolving Dandisets with children ([@jwodder](https://github.com/jwodder))
- Asset folder to DavResource ([@jwodder](https://github.com/jwodder))
- Use `PureDirPath` for asset folder paths ([@jwodder](https://github.com/jwodder))
- Eliminate AssetFolder::Root ([@jwodder](https://github.com/jwodder))
- Zarr stuff to DavResources ([@jwodder](https://github.com/jwodder))
- ZarrAssets to DavResources ([@jwodder](https://github.com/jwodder))
- Resolving paths (partly) ([@jwodder](https://github.com/jwodder))
- Resolving versions ([@jwodder](https://github.com/jwodder))
- Resolving releases ([@jwodder](https://github.com/jwodder))
- Resolve Dandiset ([@jwodder](https://github.com/jwodder))
- DavError.is_404() ([@jwodder](https://github.com/jwodder))
- Resolving DandisetIndex ([@jwodder](https://github.com/jwodder))
- Getting simple resources ([@jwodder](https://github.com/jwodder))
- Split VersionId into Draft and Published variants ([@jwodder](https://github.com/jwodder))
- impl Display for ResourceKind ([@jwodder](https://github.com/jwodder))
- WebDav skeleton ([@jwodder](https://github.com/jwodder))
- Percent-decode paths when parsing S3 download URLs ([@jwodder](https://github.com/jwodder))
- Percent-encode S3 keys when calculating download URLs ([@jwodder](https://github.com/jwodder))
- Include bucket & prefix in S3 conversion errors ([@jwodder](https://github.com/jwodder))
- Replace S3EntryPage.flatten() with an iterator ([@jwodder](https://github.com/jwodder))
- Handle errors when constructing S3Folders ([@jwodder](https://github.com/jwodder))
- Handle errors when constructing S3Objects ([@jwodder](https://github.com/jwodder))
- Client::get_url() ([@jwodder](https://github.com/jwodder))
- Remove superfluous `mut`'s ([@jwodder](https://github.com/jwodder))
- Remove another clone ([@jwodder](https://github.com/jwodder))
- Remove a clone ([@jwodder](https://github.com/jwodder))
- Simplify some streams ([@jwodder](https://github.com/jwodder))
- Getting Zarrs' children ([@jwodder](https://github.com/jwodder))
- Getting Zarr folders' children ([@jwodder](https://github.com/jwodder))
- Object ‚Üí S3Object ([@jwodder](https://github.com/jwodder))
- S3 entries to Dandi resources ([@jwodder](https://github.com/jwodder))
- Getting folders' children ([@jwodder](https://github.com/jwodder))
- Tweaks ([@jwodder](https://github.com/jwodder))
- Progress ([@jwodder](https://github.com/jwodder))
- Client::get_s3client() ([@jwodder](https://github.com/jwodder))
- BucketSpec ([@jwodder](https://github.com/jwodder))
- Fetch asset metadata ([@jwodder](https://github.com/jwodder))
- PrefixedS3Client ([@jwodder](https://github.com/jwodder))
- More of a resource-fetching framework ([@jwodder](https://github.com/jwodder))
- Adjust notes ([@jwodder](https://github.com/jwodder))
- PureDirPath ([@jwodder](https://github.com/jwodder))
- Use PurePath for S3 objects ([@jwodder](https://github.com/jwodder))
- AssetPath ‚Üí PurePath ([@jwodder](https://github.com/jwodder))
- Planning ([@jwodder](https://github.com/jwodder))
- Assorted progress ([@jwodder](https://github.com/jwodder))
- Rename `Client.client` to `inner` ([@jwodder](https://github.com/jwodder))
- Use i64 for sizes for consistency with S3 ([@jwodder](https://github.com/jwodder))
- Call a more fitting method ([@jwodder](https://github.com/jwodder))
- Parsing S3 URLs ([@jwodder](https://github.com/jwodder))
- S3 stuff ([@jwodder](https://github.com/jwodder))
- get_path() ([@jwodder](https://github.com/jwodder))
- AssetPath::is_strictly_under() ([@jwodder](https://github.com/jwodder))
- Listing asset folders ([@jwodder](https://github.com/jwodder))
- AssetPath ([@jwodder](https://github.com/jwodder))
- Get version metadata ([@jwodder](https://github.com/jwodder))
- Getting specific versions ([@jwodder](https://github.com/jwodder))
- get_all_versions() ([@jwodder](https://github.com/jwodder))
- DandisetEndpoint ([@jwodder](https://github.com/jwodder))
- get_dandiset() ([@jwodder](https://github.com/jwodder))
- VersionId type ([@jwodder](https://github.com/jwodder))
- Split up `dandiapi.rs` ([@jwodder](https://github.com/jwodder))
- DandisetId type ([@jwodder](https://github.com/jwodder))
- Listing Dandisets ([@jwodder](https://github.com/jwodder))
- main() skeleton ([@jwodder](https://github.com/jwodder))
- Init ([@jwodder](https://github.com/jwodder))

#### Authors: 3

- [@dependabot[bot]](https://github.com/dependabot[bot])
- John T. Wodder II ([@jwodder](https://github.com/jwodder))
- Mike VanDenburgh ([@mvandenburgh](https://github.com/mvandenburgh))

---

In Development
--------------
- Respond to undecodable "Depth" header values with a 400 response instead of
  acting like no value was specified
- Improve logging:
    - Log a message before & after each HTTP request made to the Dandi Archive,
      to datasets.datalad.org, or to S3 when determining a bucket's region
    - Emit logs on stderr instead of stdout
    - Disable log coloration when stderr is not a terminal
    - Suppress noisy & irrelevant log messages from various dependencies
    - Log errors that cause 404 and 500 responses
- Added breadcrumbs to HTML views of collections
- `FAST_NOT_EXIST` components are now checked for case-insensitively
- Add links to version & asset metadata to the web view
- Adjust the format of timestamps in the web view: Always use UTC, show the
  timezone as "Z", prevent line breaking in the middle, wrap in `<time>` tag
- Format sizes in the web view in "1.23 MiB" style
- Zarr entries under `/zarrs/` are now served with ".zarr" extensions
- Use `<thead>` and `<tbody>` in collection tables in web view
- Add `--prefer-s3-redirects` option for redirecting requests for blob assets
  directly to S3 instead of to Archive URLs that redirect to signed S3 URLs

v0.2.0 (2024-02-07)
-------------------
- Serve Zarr entries via manifests from
  <https://datasets.datalad.org/?dir=/dandi/zarr-manifests> at "`/zarrs/`"

v0.1.0 (2024-02-01)
-------------------
Initial release
